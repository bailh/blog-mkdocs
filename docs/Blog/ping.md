---
title: **ping**
tags:
 - cmd
---

ping ip地址，来测试网络的连通情况

## 一、ping -t

不间断地Ping指定计算机，直到管理员中断。

这就说明电脑连接路由器是通的，网络效果很好。下面按按住键盘的**Ctrl+c终止**它继续ping下去，就会停止了，会总结出运行的数据包有多少，通断的有多少了，可以反映出网络的情况。

## 二、ping -a

通过ping它的ip地址，可以解析出主机名。

## 三、ping -n

在默认情况下，一般都**只发送四个数据包**，通过这个命令可以自己定义发送的个数，用于衡量网络速度

如果丢失的比较多的话，那么就说明网络不好，可以很直观的判断出网络的情况。

## 四、ping -l size

发送size指定大小的到目标主机的数据包。

在默认的情况下Windows的ping发送的数据包大小为**32byt**，最大能发送**65500byt**。当一次发送的数据包大于或**等于65500byt时**，将可能导致接收方计算机宕机。所以微软限制了这一数值；这个参数配合其它参数以后**危害非常强大**，比如攻击者可以结合-t参数实施DOS攻击。（所以它具有危险性，不要轻易向别人计算机使用）。

## 五、ping -r count

在“记录路由”字段中记录传出和返回数据包的路由，**探测经过的路由个数**，但最多只能**跟踪到9个路由**。

```
ping -n 1 -r 9 202.102.224.25
```

（发送一个数据包，最多记录9个路由）

## 六、批量ping网段

直接批量ping网段检测，哪个ip地址出了问题，一目了然，当输入批量命令后，那么它就自动把网段内所有的ip地址都ping完为止。

```
for /L %D in (1,1,255) do ping 192.168.2.%D
```

IP地址段修改成你要检查的IP地址段。

代码中的这个(1,1,255)就是网段起与始，就是检测网段192.168.2.1到192.168.2.255之间的所有的ip地址，每次逐增1，直接到1到255这255个ip检测完为止。